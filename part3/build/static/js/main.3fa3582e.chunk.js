(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t.n(c),u=t(2),l=function(e){return r.a.createElement("button",{onClick:e.onClick},e.name)},i=function(e){var n=e.person,t=e.handleDelete;return r.a.createElement("p",null,n.name," ",n.number," ",r.a.createElement(l,{name:"delete",onClick:t(n)}))},m=function(e){var n=e.persons,t=(e.setPersons,e.handleDelete);return r.a.createElement(r.a.Fragment,null,n.map(function(e){return r.a.createElement(i,{key:e.id,person:e,handleDelete:t})}))},d=function(e){var n=e.newName,t=e.newNumber,a=e.addNewPerson,c=e.changeNewName,o=e.changeNewNumber;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:c})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=function(e){var n=e.filter,t=e.changeFilter;return r.a.createElement(r.a.Fragment,null,"filter shown with",r.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error",style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n)},b=t(3),h=t.n(b),g="/api/persons",p=function(e){return h.a.post(g,e)},v=function(e,n){return h.a.put("".concat(g,"/").concat(e),n)},w=function(e){return h.a.delete("".concat(g,"/").concat(e))},E=function(e){var n=Object(a.useState)(e.persons),t=Object(u.a)(n,2),c=t[0],o=t[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),b=i[0],h=i[1],g=Object(a.useState)(""),E=Object(u.a)(g,2),N=E[0],j=E[1],O=Object(a.useState)(""),k=Object(u.a)(O,2),y=k[0],S=k[1],C=Object(a.useState)(null),D=Object(u.a)(C,2),P=D[0],F=D[1],A=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3;F(e),setTimeout(function(){F(null)},n)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(f,{message:P}),r.a.createElement(s,{filter:y,changeFilter:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"Add a New"),r.a.createElement(d,{newName:b,newNumber:N,changeNewName:function(e){h(e.target.value)},changeNewNumber:function(e){j(e.target.value)},addNewPerson:function(e){e.preventDefault();var n=c.find(function(e){return e.name===b}),t={name:b,number:N};n?window.confirm("".concat(n.name," is already added phone book, replace the old number with a new one?"))&&(t.id=n.id,v(n.id,t).then(function(){var e=c.map(function(e){return e.id===n.id?t:e});o(e),A("Changed ".concat(t.name,"'s number from ").concat(n.number," to ").concat(t.number))}).catch(function(e){return alert(e)})):p(t).then(function(e){console.log(e),o(c.concat(e.data)),h(""),j(""),A("Added ".concat(t.name))}).catch(function(e){return alert(e)})}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{persons:c.filter(function(e){return e.name.includes(y)}),setPersons:o,handleDelete:function(e){return function(){window.confirm("delete ".concat(e.name,"?"))&&w(e.id).then(function(n){console.log(n);var t=c.filter(function(n){return n.id!==e.id});o(t),A("Delete information of ".concat(e.name," succeeded"))}).catch(A("Information of ".concat(e.name," has already been removed from server")))}}}))};(function(){return h.a.get(g)})().then(function(e){var n=e.data;o.a.render(r.a.createElement(E,{persons:n}),document.getElementById("root"))})}},[[14,1,2]]]);
//# sourceMappingURL=main.3fa3582e.chunk.js.map