{"version":3,"sources":["components/Button.js","components/Persons.js","components/NewPersonForm.js","components/FilterInput.js","components/Notification.js","service/persons.js","App.js","index.js"],"names":["Button","props","react_default","a","createElement","onClick","name","Person","_ref","person","handleDelete","number","components_Button","Persons","_ref2","persons","setPersons","Fragment","map","Persons_Person","key","id","NewPersonForm","newName","newNumber","addNewPerson","changeNewName","changeNewNumber","onSubmit","value","onChange","type","FilterInput","filter","changeFilter","Notification","message","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","service_persons","newObject","axios","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","showNotification","time","arguments","length","undefined","setTimeout","components_Notification","components_FilterInput","event","target","components_NewPersonForm","preventDefault","curPerson","find","personObject","window","confirm","personsService","then","newPersons","catch","error","alert","response","console","log","data","components_Persons","includes","oldPerson","get","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3fa3582e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Button = props => {\r\n    return (\r\n        <button onClick={props.onClick}>{props.name}</button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Button from './Button'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <p>{person.name} {person.number} <Button name='delete' onClick={handleDelete(person)} /></p>\r\n    )\r\n}\r\n\r\nconst Persons = ({ persons, setPersons, handleDelete}) => {\r\n    const getPersons = () => persons.map(person => <Person key={person.id} person={person} handleDelete={handleDelete}/>)\r\n\r\n\r\n    return (\r\n        <>\r\n            {getPersons()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst NewPersonForm = ({newName, newNumber, addNewPerson, changeNewName, changeNewNumber}) => {\r\n  return (\r\n    <form onSubmit={addNewPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={changeNewName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={changeNewNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default NewPersonForm","import React from 'react'\r\n\r\nconst FilterInput = ({filter, changeFilter}) => {\r\n  return (\r\n  <>\r\n    filter shown with<input value={filter} onChange={changeFilter} /> \r\n  </>\r\n  )\r\n}\r\n\r\nexport default FilterInput","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const style = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\" style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteItem = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deleteItem\r\n}","import React, { useState } from 'react'\r\nimport Persons from './components/Persons'\r\nimport NewPersonForm from './components/NewPersonForm'\r\nimport FilterInput from './components/FilterInput'\r\nimport Notification from './components/Notification'\r\n\r\nimport personsService from './service/persons'\r\n\r\nconst App = (props) => {\r\n    const [persons, setPersons] = useState(props.persons)\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const showNotification = (message, time=8000) => {\r\n        setErrorMessage(message)\r\n        setTimeout(() => {\r\n            setErrorMessage(null)\r\n        }, time)\r\n    }\r\n    const changeNewName = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    const changeNewNumber = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n    const changeFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n    const addNewPerson = (event) => {\r\n        event.preventDefault()\r\n        const curPerson = persons.find(person => person.name === newName)\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (curPerson) {\r\n            if (window.confirm(`${curPerson.name} is already added phone book, replace the old number with a new one?`)) {\r\n                personObject.id = curPerson.id\r\n                personsService\r\n                    .update(curPerson.id, personObject)\r\n                    .then(() => {\r\n                        const newPersons = persons.map(person => person.id === curPerson.id ? personObject : person)\r\n                        setPersons(newPersons)\r\n                        showNotification(`Changed ${personObject.name}'s number from ${curPerson.number} to ${personObject.number}`)\r\n                    })\r\n                    .catch(error => alert(error))\r\n            }\r\n        }\r\n        else {\r\n            personsService\r\n                .create(personObject)\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setPersons(persons.concat(response.data))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    showNotification(`Added ${personObject.name}`)\r\n                })\r\n                .catch(error => alert(error))\r\n        }\r\n    }\r\n    const deletePerson = person => () => {\r\n        if (window.confirm(`delete ${person.name}?`)) {\r\n            personsService\r\n                .deleteItem(person.id)\r\n                .then( response => {\r\n                    console.log(response)\r\n                    let newPersons = persons.filter( oldPerson => oldPerson.id !== person.id )\r\n                    setPersons(newPersons)\r\n                    showNotification(`Delete information of ${person.name} succeeded`)\r\n                })\r\n                .catch(\r\n                    showNotification(`Information of ${person.name} has already been removed from server`)\r\n                )\r\n        }\r\n    }\r\n\r\n    const personsToShow = () => persons.filter(person => person.name.includes(filter))\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={errorMessage} />\r\n            <FilterInput filter={filter} changeFilter={changeFilter} />\r\n            <h2>Add a New</h2>\r\n            <NewPersonForm newName={newName} newNumber={newNumber} changeNewName={changeNewName}\r\n                changeNewNumber={changeNewNumber} addNewPerson={addNewPerson} />\r\n            <h2>Numbers</h2>\r\n            <Persons persons={personsToShow()} setPersons={setPersons} handleDelete={deletePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'  // highlight-line\r\nimport personsService from './service/persons'\r\n\r\npersonsService\r\n.getAll()\r\n.then(response => {\r\n  const persons = response.data\r\n  ReactDOM.render(\r\n    <App persons={persons} />,\r\n    document.getElementById('root')\r\n  )\r\n})"],"sourceRoot":""}